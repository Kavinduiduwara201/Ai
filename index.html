<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ShadowX Crew Competition</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sx-blue:#0066ff;
  --sx-purple:#8e2de2;
  --text:#fff;
  --muted:#b5b5b5;
  --overlay:rgba(0,0,0,0.6);
  --highlight:rgba(0,102,255,.3);
}
* { box-sizing:border-box; margin:0; padding:0; font-family:'Inter',sans-serif; }

body {
  min-height:100vh;
  color:var(--text);
  background:
    linear-gradient(var(--overlay), var(--overlay)),
    url('https://files.catbox.moe/958h04.jpg') no-repeat center center fixed;
  background-size:cover;
  padding:30px 15px;
}

.container { max-width:900px; margin:auto; }

header { display:flex; justify-content:space-between; align-items:center; margin-bottom:25px; }
header h1 { font-size:24px; font-weight:700; }
header .time { font-size:14px; color:var(--muted); }

.card {
  background:rgba(20,20,40,0.85);
  border-radius:15px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 8px 30px rgba(0,0,0,0.5);
}

.form-row { display:flex; gap:15px; flex-wrap:wrap; }
.form-row input {
  flex:1;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.1);
  background:rgba(15,15,31,0.8);
  color:#FFF;
  outline:none;
}
.form-row input:focus { border-color:var(--sx-blue); box-shadow:0 0 0 4px var(--highlight); }

.button-group { margin-top:15px; display:flex; gap:10px; flex-wrap:wrap; }
button {
  padding:10px 16px;
  border-radius:12px;
  border:none;
  cursor:pointer;
  font-weight:600;
  transition:.2s;
  background:#222244;
  color:#FFF;
}
button.primary { background:linear-gradient(90deg,var(--sx-blue),var(--sx-purple)); }
button:hover { transform:translateY(-2px); box-shadow:0 0 10px var(--highlight); }

.msg { margin-top:10px; font-size:13px; }
.msg.success { color:#8CFFB2; }
.msg.error { color:#FF9A9A; }

table { width:100%; border-collapse:collapse; margin-top:15px; font-size:14px; }
th, td { padding:10px; border-bottom:1px solid rgba(255,255,255,0.2); text-align:left; }
th { color:#d9d9d9; font-weight:600; }

#entriesCount {
  color:var(--muted);
  margin-bottom:10px;
  font-size:14px;
  font-weight:600;
  transition: all 0.3s ease;
}
#entriesCount.glow {
  color:#fff;
  text-shadow:0 0 10px var(--sx-blue),0 0 20px var(--sx-purple);
}
</style>
</head>
<body>

<div class="container">
  <header>
    <h1>ShadowX Crew ‚Äî Competition</h1>
    <div class="time" id="currentTime">--:--:--</div>
  </header>

  <div class="card">
    <div class="form-row">
      <input type="text" id="name" placeholder="Your Name">
      <input type="text" id="number" placeholder="WhatsApp Number">
    </div>
    <div class="button-group">
      <button id="submitBtn" class="primary">Submit</button>
    </div>
    <div class="msg" id="msg"></div>
  </div>

  <div class="card">
    <h2>Entries</h2>
    <p id="entriesCount">Total Entries: 0</p>
    <table>
      <thead>
        <tr><th>Name</th><th>Time</th></tr>
      </thead>
      <tbody id="entriesTable"></tbody>
    </table>
  </div>
</div>

<script>
// Update current time
function updateTime() {
  const now = new Date();
  document.getElementById('currentTime').textContent = now.toLocaleString('en-GB', {hour12:false});
}
setInterval(updateTime,1000);
updateTime();

// Telegram Bot details
const BOT_TOKEN = "8266023841:AAF7WQf-CngjP6KVcBJS7AeJ8WdcSYxlA5I"; // Replace with your bot token
const CHAT_ID = "1720283336";     // Replace with your chat ID

// Load entries from localStorage
function loadEntries() {
  return JSON.parse(localStorage.getItem('entries')||'[]');
}

// Animate counter
function animateCounter(id, start, end, duration) {
  const obj = document.getElementById(id);
  let startTimestamp = null;
  const step = (timestamp) => {
    if (!startTimestamp) startTimestamp = timestamp;
    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
    obj.textContent = "Total Entries: " + Math.floor(progress * (end - start) + start);
    if (progress < 1) {
      window.requestAnimationFrame(step);
    }
  };
  window.requestAnimationFrame(step);

  // Glow effect
  obj.classList.add("glow");
  setTimeout(()=>obj.classList.remove("glow"),800);
}

// Render entries table + animated counter
function renderEntries() {
  const tbody = document.getElementById('entriesTable');
  const entries = loadEntries();
  tbody.innerHTML = "";

  for(const e of entries) {
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${e.name}</td><td>${e.time}</td>`;
    tbody.appendChild(tr);
  }

  // Animate counter
  const counterEl = document.getElementById('entriesCount');
  const currentCount = parseInt(counterEl.textContent.replace(/\D/g,'')) || 0;
  animateCounter('entriesCount', currentCount, entries.length, 600);
}

// Add entry to localStorage
function addEntry(name,time){
  const entries = loadEntries();
  entries.push({name,time});
  localStorage.setItem('entries',JSON.stringify(entries));
  renderEntries();
}

// Submit button
document.getElementById('submitBtn').addEventListener('click', async ()=>{
  const name = document.getElementById('name').value.trim();
  const number = document.getElementById('number').value.trim();
  const msg = document.getElementById('msg');

  if(!name || !/^\d{11,13}$/.test(number)){
    msg.textContent = "Enter valid name and WhatsApp number ex-9476xxxxxx";
    msg.className="msg error";
    return;
  }

  const timestamp = new Date().toLocaleString('en-GB', {hour12:false});
  const text = `üìå ShadowX Crew Competition Entry
üë§ Name: ${name}
üì± WhatsApp: ${number}
üïí Time: ${timestamp}`;

  try{
    // Send to Telegram
    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({chat_id:CHAT_ID,text})
    });
    msg.textContent="‚úÖ Entry sent!";
    msg.className="msg success";

    addEntry(name,timestamp); // Save locally & show
    document.getElementById('name').value='';
    document.getElementById('number').value='';
  } catch(err){
    msg.textContent="‚ùå Failed to send entry";
    msg.className="msg error";
    console.error(err);
  }
});

// Initial render
renderEntries();
</script>

</body>
  </html>
